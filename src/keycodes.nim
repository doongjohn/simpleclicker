import std/strformat

# https://learn.microsoft.com/en-us/windows/win32/inputdev/virtual-key-codes
const
  VK_LBUTTON = 0x01
  VK_RBUTTON = 0x02
  VK_CANCEL = 0x03
  VK_MBUTTON = 0x04
  VK_BACK = 0x08
  VK_TAB = 0x09
  VK_CLEAR = 0x0C
  VK_RETURN = 0x0D
  VK_SHIFT = 0x10
  VK_CONTROL = 0x11
  VK_MENU = 0x12
  VK_PAUSE = 0x13
  VK_CAPITAL = 0x14
  VK_KANA = 0x15
  VK_HANGEUL = 0x15
  VK_HANGUL = 0x15
  VK_JUNJA = 0x17
  VK_FINAL = 0x18
  VK_HANJA = 0x19
  VK_KANJI = 0x19
  VK_ESCAPE = 0x1B
  VK_CONVERT = 0x1C
  VK_NONCONVERT = 0x1D
  VK_ACCEPT = 0x1E
  VK_MODECHANGE = 0x1F
  VK_SPACE = 0x20
  VK_PRIOR = 0x21
  VK_NEXT = 0x22
  VK_END = 0x23
  VK_HOME = 0x24
  VK_LEFT = 0x25
  VK_UP = 0x26
  VK_RIGHT = 0x27
  VK_DOWN = 0x28
  VK_SELECT = 0x29
  VK_PRINT = 0x2A
  VK_EXECUTE = 0x2B
  VK_SNAPSHOT = 0x2C
  VK_INSERT = 0x2D
  VK_DELETE = 0x2E
  VK_HELP = 0x2F
  VK_LWIN = 0x5B
  VK_RWIN = 0x5C
  VK_APPS = 0x5D
  VK_SLEEP = 0x5F
  VK_NUMPAD0 = 0x60
  VK_NUMPAD1 = 0x61
  VK_NUMPAD2 = 0x62
  VK_NUMPAD3 = 0x63
  VK_NUMPAD4 = 0x64
  VK_NUMPAD5 = 0x65
  VK_NUMPAD6 = 0x66
  VK_NUMPAD7 = 0x67
  VK_NUMPAD8 = 0x68
  VK_NUMPAD9 = 0x69
  VK_MULTIPLY = 0x6A
  VK_ADD = 0x6B
  VK_SEPARATOR = 0x6C
  VK_SUBTRACT = 0x6D
  VK_DECIMAL = 0x6E
  VK_DIVIDE = 0x6F
  VK_F1 = 0x70
  VK_F2 = 0x71
  VK_F3 = 0x72
  VK_F4 = 0x73
  VK_F5 = 0x74
  VK_F6 = 0x75
  VK_F7 = 0x76
  VK_F8 = 0x77
  VK_F9 = 0x78
  VK_F10 = 0x79
  VK_F11 = 0x7A
  VK_F12 = 0x7B
  VK_F13 = 0x7C
  VK_F14 = 0x7D
  VK_F15 = 0x7E
  VK_F16 = 0x7F
  VK_F17 = 0x80
  VK_F18 = 0x81
  VK_F19 = 0x82
  VK_F20 = 0x83
  VK_F21 = 0x84
  VK_F22 = 0x85
  VK_F23 = 0x86
  VK_F24 = 0x87
  VK_NUMLOCK = 0x90
  VK_SCROLL = 0x91
  VK_LSHIFT = 0xA0
  VK_RSHIFT = 0xA1
  VK_LCONTROL = 0xA2
  VK_RCONTROL = 0xA3
  VK_LMENU = 0xA4
  VK_RMENU = 0xA5
  VK_BROWSER_BACK = 0xA6
  VK_BROWSER_FORWARD = 0xA7
  VK_BROWSER_REFRESH = 0xA8
  VK_BROWSER_STOP = 0xA9
  VK_BROWSER_SEARCH = 0xAA
  VK_BROWSER_FAVORITES = 0xAB
  VK_BROWSER_HOME = 0xAC
  VK_VOLUME_MUTE = 0xAD
  VK_VOLUME_DOWN = 0xAE
  VK_VOLUME_UP = 0xAF
  VK_MEDIA_NEXT_TRACK = 0xB0
  VK_MEDIA_PREV_TRACK = 0xB1
  VK_MEDIA_STOP = 0xB2
  VK_MEDIA_PLAY_PAUSE = 0xB3
  VK_LAUNCH_MAIL = 0xB4
  VK_LAUNCH_MEDIA_SELECT = 0xB5
  VK_LAUNCH_APP1 = 0xB6
  VK_LAUNCH_APP2 = 0xB7
  VK_OEM_1 = 0xBA
  VK_OEM_PLUS = 0xBB
  VK_OEM_COMMA = 0xBC
  VK_OEM_MINUS = 0xBD
  VK_OEM_PERIOD = 0xBE
  VK_OEM_2 = 0xBF
  VK_OEM_3 = 0xC0
  VK_OEM_4 = 0xDB
  VK_OEM_5 = 0xDC
  VK_OEM_6 = 0xDD
  VK_OEM_7 = 0xDE
  VK_OEM_8 = 0xDF
  VK_OEM_102 = 0xE2
  VK_PROCESSKEY = 0xE5
  VK_PACKET = 0xE7
  VK_ATTN = 0xF6
  VK_CRSEL = 0xF7
  VK_EXSEL = 0xF8
  VK_EREOF = 0xF9
  VK_PLAY = 0xFA
  VK_ZOOM = 0xFB
  VK_NONAME = 0xFC
  VK_PA1 = 0xFD
  VK_OEM_CLEAR = 0xFE

type KeyCode* = distinct uint8

proc `==`*(x, y: KeyCode): bool =
  result = x.ord() == y.ord()

const
  Key_None* = KeyCode(0)
  Key_MouseLeft* = KeyCode(VK_LBUTTON)
  Key_MouseRight* = KeyCode(VK_RBUTTON)
  Key_Cancel* = KeyCode(VK_CANCEL)
  Key_MouseMiddle* = KeyCode(VK_MBUTTON)
  Key_Back* = KeyCode(VK_BACK)
  Key_Tab* = KeyCode(VK_TAB)
  Key_Clear* = KeyCode(VK_CLEAR)
  Key_Enter* = KeyCode(VK_RETURN)
  Key_Shift* = KeyCode(VK_SHIFT)
  Key_Ctrl* = KeyCode(VK_CONTROL)
  Key_Alt* = KeyCode(VK_MENU)
  Key_Pause* = KeyCode(VK_PAUSE)
  Key_Capital* = KeyCode(VK_CAPITAL)
  Key_Kana* = KeyCode(VK_KANA)
  Key_Hangeul* = KeyCode(VK_HANGEUL)
  Key_Hangul* = KeyCode(VK_HANGUL)
  Key_Junja* = KeyCode(VK_JUNJA)
  Key_Final* = KeyCode(VK_FINAL)
  Key_Hanja* = KeyCode(VK_HANJA)
  Key_Kanji* = KeyCode(VK_KANJI)
  Key_Escape* = KeyCode(VK_ESCAPE)
  Key_Esc* = KeyCode(VK_ESCAPE)
  Key_Convert* = KeyCode(VK_CONVERT)
  Key_NonConvert* = KeyCode(VK_NONCONVERT)
  Key_Accept* = KeyCode(VK_ACCEPT)
  Key_ModeChange* = KeyCode(VK_MODECHANGE)
  Key_Space* = KeyCode(VK_SPACE)
  Key_PageUp* = KeyCode(VK_PRIOR)
  Key_PageDown* = KeyCode(VK_NEXT)
  Key_End* = KeyCode(VK_END)
  Key_Home* = KeyCode(VK_HOME)
  Key_Left* = KeyCode(VK_LEFT)
  Key_Up* = KeyCode(VK_UP)
  Key_Right* = KeyCode(VK_RIGHT)
  Key_Down* = KeyCode(VK_DOWN)
  Key_Select* = KeyCode(VK_SELECT)
  Key_Print* = KeyCode(VK_PRINT)
  Key_Execute* = KeyCode(VK_EXECUTE)
  Key_Snapshot* = KeyCode(VK_SNAPSHOT)
  Key_Insert* = KeyCode(VK_INSERT)
  Key_Delete* = KeyCode(VK_DELETE)
  Key_Help* = KeyCode(VK_HELP)
  Key_LWin* = KeyCode(VK_LWIN)
  Key_RWin* = KeyCode(VK_RWIN)
  Key_Apps* = KeyCode(VK_APPS)
  Key_Sleep* = KeyCode(VK_SLEEP)
  Key_Numpad0* = KeyCode(VK_NUMPAD0)
  Key_Numpad1* = KeyCode(VK_NUMPAD1)
  Key_Numpad2* = KeyCode(VK_NUMPAD2)
  Key_Numpad3* = KeyCode(VK_NUMPAD3)
  Key_Numpad4* = KeyCode(VK_NUMPAD4)
  Key_Numpad5* = KeyCode(VK_NUMPAD5)
  Key_Numpad6* = KeyCode(VK_NUMPAD6)
  Key_Numpad7* = KeyCode(VK_NUMPAD7)
  Key_Numpad8* = KeyCode(VK_NUMPAD8)
  Key_Numpad9* = KeyCode(VK_NUMPAD9)
  Key_Multiply* = KeyCode(VK_MULTIPLY)
  Key_Add* = KeyCode(VK_ADD)
  Key_Separator* = KeyCode(VK_SEPARATOR)
  Key_Subtract* = KeyCode(VK_SUBTRACT)
  Key_Decimal* = KeyCode(VK_DECIMAL)
  Key_Divide* = KeyCode(VK_DIVIDE)
  Key_F1* = KeyCode(VK_F1)
  Key_F2* = KeyCode(VK_F2)
  Key_F3* = KeyCode(VK_F3)
  Key_F4* = KeyCode(VK_F4)
  Key_F5* = KeyCode(VK_F5)
  Key_F6* = KeyCode(VK_F6)
  Key_F7* = KeyCode(VK_F7)
  Key_F8* = KeyCode(VK_F8)
  Key_F9* = KeyCode(VK_F9)
  Key_F10* = KeyCode(VK_F10)
  Key_F11* = KeyCode(VK_F11)
  Key_F12* = KeyCode(VK_F12)
  Key_F13* = KeyCode(VK_F13)
  Key_F14* = KeyCode(VK_F14)
  Key_F15* = KeyCode(VK_F15)
  Key_F16* = KeyCode(VK_F16)
  Key_F17* = KeyCode(VK_F17)
  Key_F18* = KeyCode(VK_F18)
  Key_F19* = KeyCode(VK_F19)
  Key_F20* = KeyCode(VK_F20)
  Key_F21* = KeyCode(VK_F21)
  Key_F22* = KeyCode(VK_F22)
  Key_F23* = KeyCode(VK_F23)
  Key_F24* = KeyCode(VK_F24)
  Key_Numlock* = KeyCode(VK_NUMLOCK)
  Key_Scroll* = KeyCode(VK_SCROLL)
  Key_LShift* = KeyCode(VK_LSHIFT)
  Key_RShift* = KeyCode(VK_RSHIFT)
  Key_LCtrl* = KeyCode(VK_LCONTROL)
  Key_RCtrl* = KeyCode(VK_RCONTROL)
  Key_LAlt* = KeyCode(VK_LMENU)
  Key_RAlt* = KeyCode(VK_RMENU)
  Key_BrowserBack* = KeyCode(VK_BROWSER_BACK)
  Key_BrowserForward* = KeyCode(VK_BROWSER_FORWARD)
  Key_BrowserRefresh* = KeyCode(VK_BROWSER_REFRESH)
  Key_BrowserStop* = KeyCode(VK_BROWSER_STOP)
  Key_BrowserSearch* = KeyCode(VK_BROWSER_SEARCH)
  Key_BrowserFavorites* = KeyCode(VK_BROWSER_FAVORITES)
  Key_BrowserHome* = KeyCode(VK_BROWSER_HOME)
  Key_VolumeMute* = KeyCode(VK_VOLUME_MUTE)
  Key_VolumeDown* = KeyCode(VK_VOLUME_DOWN)
  Key_VolumeUp* = KeyCode(VK_VOLUME_UP)
  Key_MediaNextTrack* = KeyCode(VK_MEDIA_NEXT_TRACK)
  Key_MediaPrevTrack* = KeyCode(VK_MEDIA_PREV_TRACK)
  Key_MediaStop* = KeyCode(VK_MEDIA_STOP)
  Key_MediaPlayPause* = KeyCode(VK_MEDIA_PLAY_PAUSE)
  Key_LaunchMail* = KeyCode(VK_LAUNCH_MAIL)
  Key_LaunchMediaSelect* = KeyCode(VK_LAUNCH_MEDIA_SELECT)
  Key_LaunchApp1* = KeyCode(VK_LAUNCH_APP1)
  Key_LaunchApp2* = KeyCode(VK_LAUNCH_APP2)
  Key_Oem1* = KeyCode(VK_OEM_1)
  Key_OemPlus* = KeyCode(VK_OEM_PLUS)
  Key_OemComma* = KeyCode(VK_OEM_COMMA)
  Key_OemMinus* = KeyCode(VK_OEM_MINUS)
  Key_OemPeriod* = KeyCode(VK_OEM_PERIOD)
  Key_Oem2* = KeyCode(VK_OEM_2)
  Key_Oem3* = KeyCode(VK_OEM_3)
  Key_Oem4* = KeyCode(VK_OEM_4)
  Key_Oem5* = KeyCode(VK_OEM_5)
  Key_Oem6* = KeyCode(VK_OEM_6)
  Key_Oem7* = KeyCode(VK_OEM_7)
  Key_Oem8* = KeyCode(VK_OEM_8)
  Key_Oem102* = KeyCode(VK_OEM_102)
  Key_ProcessKey* = KeyCode(VK_PROCESSKEY)
  Key_Packet* = KeyCode(VK_PACKET)
  Key_Attn* = KeyCode(VK_ATTN)
  Key_Crsel* = KeyCode(VK_CRSEL)
  Key_Exsel* = KeyCode(VK_EXSEL)
  Key_Ereof* = KeyCode(VK_EREOF)
  Key_Play* = KeyCode(VK_PLAY)
  Key_Zoom* = KeyCode(VK_ZOOM)
  Key_Noname* = KeyCode(VK_NONAME)
  Key_Pa1* = KeyCode(VK_PA1)
  Key_OemClear* = KeyCode(VK_OEM_CLEAR)
  Key_A* = KeyCode('A'.ord())
  Key_B* = KeyCode('B'.ord())
  Key_C* = KeyCode('C'.ord())
  Key_D* = KeyCode('D'.ord())
  Key_E* = KeyCode('E'.ord())
  Key_F* = KeyCode('F'.ord())
  Key_G* = KeyCode('G'.ord())
  Key_H* = KeyCode('H'.ord())
  Key_I* = KeyCode('I'.ord())
  Key_J* = KeyCode('J'.ord())
  Key_K* = KeyCode('K'.ord())
  Key_L* = KeyCode('L'.ord())
  Key_M* = KeyCode('M'.ord())
  Key_N* = KeyCode('N'.ord())
  Key_O* = KeyCode('O'.ord())
  Key_P* = KeyCode('P'.ord())
  Key_Q* = KeyCode('Q'.ord())
  Key_R* = KeyCode('R'.ord())
  Key_S* = KeyCode('S'.ord())
  Key_T* = KeyCode('T'.ord())
  Key_U* = KeyCode('U'.ord())
  Key_V* = KeyCode('V'.ord())
  Key_W* = KeyCode('W'.ord())
  Key_X* = KeyCode('X'.ord())
  Key_Y* = KeyCode('Y'.ord())
  Key_Z* = KeyCode('Z'.ord())
  Key_0* = KeyCode('0'.ord())
  Key_1* = KeyCode('1'.ord())
  Key_2* = KeyCode('2'.ord())
  Key_3* = KeyCode('3'.ord())
  Key_4* = KeyCode('4'.ord())
  Key_5* = KeyCode('5'.ord())
  Key_6* = KeyCode('6'.ord())
  Key_7* = KeyCode('7'.ord())
  Key_8* = KeyCode('8'.ord())
  Key_9* = KeyCode('9'.ord())

const keyNames = block:
  var names: array[256, string]
  names[Key_None.ord()] = "None"
  names[Key_MouseLeft.ord()] = "Mouse Left"
  names[Key_MouseRight.ord()] = "Mouse Right"
  names[Key_Cancel.ord()] = "Cancel"
  names[Key_MouseMiddle.ord()] = "Mouse Middle"
  names[Key_Back.ord()] = "Back"
  names[Key_Tab.ord()] = "Tab"
  names[Key_Clear.ord()] = "Clear"
  names[Key_Enter.ord()] = "Enter"
  names[Key_Shift.ord()] = "Shift"
  names[Key_Ctrl.ord()] = "Ctrl"
  names[Key_Alt.ord()] = "Alt"
  names[Key_Pause.ord()] = "Pause"
  names[Key_Capital.ord()] = "Capital"
  names[Key_Kana.ord()] = "Kana"
  names[Key_Hangeul.ord()] = "Hangeul"
  names[Key_Hangul.ord()] = "Hangul"
  names[Key_Junja.ord()] = "Junja"
  names[Key_Final.ord()] = "Final"
  names[Key_Hanja.ord()] = "Hanja"
  names[Key_Kanji.ord()] = "Kanji"
  names[Key_Escape.ord()] = "Escape"
  names[Key_Convert.ord()] = "IME convert"
  names[Key_NonConvert.ord()] = "IME nonconvert"
  names[Key_Accept.ord()] = "IME accept"
  names[Key_ModeChange.ord()] = "IME mode change"
  names[Key_Space.ord()] = "Space"
  names[Key_PageUp.ord()] = "Page Up"
  names[Key_PageDown.ord()] = "Page Down"
  names[Key_End.ord()] = "End"
  names[Key_Home.ord()] = "Home"
  names[Key_Left.ord()] = "Arrow Left"
  names[Key_Up.ord()] = "Arrow Up"
  names[Key_Right.ord()] = "Arrow Right"
  names[Key_Down.ord()] = "Arrow Down"
  names[Key_Select.ord()] = "Select"
  names[Key_Print.ord()] = "Print"
  names[Key_Execute.ord()] = "Execute"
  names[Key_Snapshot.ord()] = "Print Screen"
  names[Key_Insert.ord()] = "Insert"
  names[Key_Delete.ord()] = "Delete"
  names[Key_Help.ord()] = "Help"
  names[Key_LWin.ord()] = "Win Left"
  names[Key_RWin.ord()] = "Win Right"
  names[Key_Apps.ord()] = "Applications"
  names[Key_Sleep.ord()] = "Sleep"
  names[Key_Numpad0.ord()] = "Numpad 0"
  names[Key_Numpad1.ord()] = "Numpad 1"
  names[Key_Numpad2.ord()] = "Numpad 2"
  names[Key_Numpad3.ord()] = "Numpad 3"
  names[Key_Numpad4.ord()] = "Numpad 4"
  names[Key_Numpad5.ord()] = "Numpad 5"
  names[Key_Numpad6.ord()] = "Numpad 6"
  names[Key_Numpad7.ord()] = "Numpad 7"
  names[Key_Numpad8.ord()] = "Numpad 8"
  names[Key_Numpad9.ord()] = "Numpad 9"
  names[Key_Multiply.ord()] = "Multiply"
  names[Key_Add.ord()] = "Add"
  names[Key_Separator.ord()] = "Separator"
  names[Key_Subtract.ord()] = "Subtract"
  names[Key_Decimal.ord()] = "Decimal"
  names[Key_Divide.ord()] = "Divide"
  names[Key_F1.ord()] = "F1"
  names[Key_F2.ord()] = "F2"
  names[Key_F3.ord()] = "F3"
  names[Key_F4.ord()] = "F4"
  names[Key_F5.ord()] = "F5"
  names[Key_F6.ord()] = "F6"
  names[Key_F7.ord()] = "F7"
  names[Key_F8.ord()] = "F8"
  names[Key_F9.ord()] = "F9"
  names[Key_F10.ord()] = "F10"
  names[Key_F11.ord()] = "F11"
  names[Key_F12.ord()] = "F12"
  names[Key_F13.ord()] = "F13"
  names[Key_F14.ord()] = "F14"
  names[Key_F15.ord()] = "F15"
  names[Key_F16.ord()] = "F16"
  names[Key_F17.ord()] = "F17"
  names[Key_F18.ord()] = "F18"
  names[Key_F19.ord()] = "F19"
  names[Key_F20.ord()] = "F20"
  names[Key_F21.ord()] = "F21"
  names[Key_F22.ord()] = "F22"
  names[Key_F23.ord()] = "F23"
  names[Key_F24.ord()] = "F24"
  names[Key_Numlock.ord()] = "Num Lock"
  names[Key_Scroll.ord()] = "Scroll Lock"
  names[Key_LShift.ord()] = "Shift Left"
  names[Key_RShift.ord()] = "Shift Right"
  names[Key_LCtrl.ord()] = "Ctrl Left"
  names[Key_RCtrl.ord()] = "Ctrl Right"
  names[Key_LAlt.ord()] = "Alt Left"
  names[Key_RAlt.ord()] = "Alt Right"
  names[Key_BrowserBack.ord()] = "Browser Back"
  names[Key_BrowserForward.ord()] = "Browser Forward"
  names[Key_BrowserRefresh.ord()] = "Browser Refresh"
  names[Key_BrowserStop.ord()] = "Browser Stop"
  names[Key_BrowserSearch.ord()] = "Browser Search"
  names[Key_BrowserFavorites.ord()] = "Browser Favorites"
  names[Key_BrowserHome.ord()] = "Browser Home"
  names[Key_VolumeMute.ord()] = "Volume Mute"
  names[Key_VolumeDown.ord()] = "Volume Down"
  names[Key_VolumeUp.ord()] = "Volume Up"
  names[Key_MediaNextTrack.ord()] = "Next Track"
  names[Key_MediaPrevTrack.ord()] = "Prev Track"
  names[Key_MediaStop.ord()] = "Stop Media"
  names[Key_MediaPlayPause.ord()] = "Play/Pause Media"
  names[Key_LaunchMail.ord()] = "Start Mail"
  names[Key_LaunchMediaSelect.ord()] = "Select Media"
  names[Key_LaunchApp1.ord()] = "Start Application 1"
  names[Key_LaunchApp2.ord()] = "Start Application 2"
  names[Key_Oem1.ord()] = "OEM 1 (;)"
  names[Key_OemPlus.ord()] = "+"
  names[Key_OemComma.ord()] = ","
  names[Key_OemMinus.ord()] = "-"
  names[Key_OemPeriod.ord()] = "."
  names[Key_Oem2.ord()] = "OEM 2 (/)"
  names[Key_Oem3.ord()] = "OEM 3 (~)"
  names[Key_Oem4.ord()] = "OEM 4 ([)"
  names[Key_Oem5.ord()] = "OEM 5 (\\)"
  names[Key_Oem6.ord()] = "OEM 6 (])"
  names[Key_Oem7.ord()] = "OEM 7 (')"
  names[Key_Oem8.ord()] = "OEM 8"
  names[Key_Oem102.ord()] = "OEM 102 (<)"
  names[Key_ProcessKey.ord()] = "IME PROCESS key"
  names[Key_Packet.ord()] = "VK_PACKET"
  names[Key_Attn.ord()] = "Attn"
  names[Key_Crsel.ord()] = "CrSel"
  names[Key_Exsel.ord()] = "ExSel"
  names[Key_Ereof.ord()] = "Erase EOF"
  names[Key_Play.ord()] = "Play"
  names[Key_Zoom.ord()] = "Zoom"
  names[Key_Noname.ord()] = "Noname"
  names[Key_Pa1.ord()] = "PA1"
  names[Key_OemClear.ord()] = "Clear"
  names[Key_A.ord()] = "A"
  names[Key_B.ord()] = "B"
  names[Key_C.ord()] = "C"
  names[Key_D.ord()] = "D"
  names[Key_E.ord()] = "E"
  names[Key_F.ord()] = "F"
  names[Key_G.ord()] = "G"
  names[Key_H.ord()] = "H"
  names[Key_I.ord()] = "I"
  names[Key_J.ord()] = "J"
  names[Key_K.ord()] = "K"
  names[Key_L.ord()] = "L"
  names[Key_M.ord()] = "M"
  names[Key_N.ord()] = "N"
  names[Key_O.ord()] = "O"
  names[Key_P.ord()] = "P"
  names[Key_Q.ord()] = "Q"
  names[Key_R.ord()] = "R"
  names[Key_S.ord()] = "S"
  names[Key_T.ord()] = "T"
  names[Key_U.ord()] = "U"
  names[Key_V.ord()] = "V"
  names[Key_W.ord()] = "W"
  names[Key_X.ord()] = "X"
  names[Key_Y.ord()] = "Y"
  names[Key_Z.ord()] = "Z"
  names[Key_0.ord()] = "0"
  names[Key_1.ord()] = "1"
  names[Key_2.ord()] = "2"
  names[Key_3.ord()] = "3"
  names[Key_4.ord()] = "4"
  names[Key_5.ord()] = "5"
  names[Key_6.ord()] = "6"
  names[Key_7.ord()] = "7"
  names[Key_8.ord()] = "8"
  names[Key_9.ord()] = "9"
  names

proc `$`*(keyCode: KeyCode): string =
  result = keyNames[keyCode.ord()]
  if result == "":
    result = "KeyCode({keyCode.ord()})".fmt()
